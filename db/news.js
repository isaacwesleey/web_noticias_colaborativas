////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////// Funciones para la gestiÃ³n de noticias en la base de datos ////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////

const { getConnection } = require('./db');

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////// Login ///////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

const createNewsDB = async (title, content, lede, theme) => {
  const connection = await getConnection();

  try {
    const [result] = await connection.query(
      'INSERT INTO news (title, content, lede, theme) VALUES (?, ?, ?, ?)',
      [title, content, lede, theme]
    );

    return result.insertId; // Devuelve el id de la noticia creada
  } finally {
    connection.release();
  }
};
module.exports = { createNewsDB };
